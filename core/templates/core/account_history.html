{% extends "base.html" %}
{% load static %}

{% block style %} 
<style type="text/css">
/*
thead>tr>th {
  font-size:11px;
}

table { width:250px;table-layout:fixed; }
table tr { height:1em;  }
td { overflow:hidden;
  white-space:nowrap;
  text-overflow: ellipsis;
  font-size:14px; 
}*/
td {font-size:14px; }
thead>tr>th {
  font-size:11px;
}

table { width:250px;table-layout:fixed; }
table tr { height:1em;  }
td { overflow:hidden;
  white-space:nowrap;
  text-overflow: ellipsis;
  font-size:14px; 
}
.popover{
    max-width: 500px; /* Max Width of the popover (depending on the container!) */
}

.popover-body {
  word-break: break-all;
}
</style>
{% endblock style %}
{% block content %}
<div class="container" style="margin-top:40px;">
  <div class="card ">
    <div class="card-body">
     <h6 style="font-family: 'Garamond';text-align: center;margin-bottom: 15px;">Account history</h6>
      <div class="table-responsive table-borderless">
        <table class="table table-sm">
           <colgroup>
            <col style="width:70%">
            <col style="width:30%">
          </colgroup> 

          <tbody>
            {% for event in events %}
            {% if event %}
            <tr >
              {% if event.event_type == 'Txn' %}
                  {% if event.txn.txn_type == 'Transfer' %}
                      {% if event.txn.sender.public_key == username %}

                      <td>Sent&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.transfer.amount}}</span>&nbsp;&nbsp;to&nbsp;&nbsp;<a class="textlink" href="/accounts/{{event.txn.transfer.recipient.public_key}}/">{{event.txn.transfer.recipient.name}}</a></td>

                      {% elif event.txn.transfer.recipient.public_key == username %}

                      <td>Recieved&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.transfer.amount}}</span>&nbsp;&nbsp;from&nbsp;&nbsp;<a class="textlink" href="/accounts/{{event.txn.sender.public_key}}/">{{event.txn.sender.name}}</a></td>

                      {% else %}
                      <td> hh</td>
                      {% endif %}
                  {% elif event.txn.txn_type == 'Register' %}
                      <td>Registered&nbsp;account</td>
                  {% elif event.txn.txn_type == 'ChangeVote' %}
                      {% if event.txn.sender.public_key == username %}
                      <td>Changed&nbsp;vote&nbsp;for&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.arrowupdate.arrow.target.name}}</span>&nbsp;&nbsp;to&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.arrowupdate.get_arrowupdate_display}}</span></td>
                      {% elif event.txn.arrowupdate.arrow.target.public_key == username %}
                      <td>Had&nbsp;vote&nbsp;from&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.sender.name}}</span>&nbsp;&nbsp;changed&nbsp;&nbsp;to&nbsp;&nbsp;<span style="font-weight:500;">{{event.txn.arrowupdate.get_arrowupdate_display}}</span></td>
                      {% else %}
                      <td>ll</td>
                      {% endif %}
                  {% elif event.txn.txn_type == 'Commitment' %}
                      <td>Commited&nbsp;<a class="textlink" href="/transactions/{{event.txn.id}}/">Hash</a></td>
                  {% elif event.txn.txn_type == 'Revelation' %}
                      <td>Revealed&nbsp;<a class="textlink" href="/transactions/{{event.txn.id}}/">Value</a></td>
                  {% else %}
                      <td>ji{{ event.txn.txn_type }}</td>
                  {% endif %}
              {% elif event.event_type == 'AC' %}
                  {% if event.arrowcreation.arrow.source.public_key == username %}
                  <td>New link <span style="font-weight:500;">{{event.arrowcreation.arrow.target.name}}</span></td>
                  {% else %}
                  <td>vv</td>
                  {% endif %}
              {% elif event.event_type == 'MS' %}
                  <td>Market settled for this account</td>
              {% elif event.event_type == 'MST' %}
                  <td>Market for <span style="font-weight:500;">{{event.marketsettlementtransfer.market_settlement.account.name}}</span> settled. Transfer of <span style="font-weight:500;">{{event.marketsettlementtransfer.amount}}</span></td>
              {% else %}
              <td><a class="textlink" href="/transactions/{{txn.id}}/">see&nbsp;details</a></td>
              {% endif %}
              <td>{{ event.timestamp }}</td>
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>    

<nav>
  <ul class="pagination justify-content-center">
    {% if events.paginator.num_pages < 9 %}
        {% for num in events.paginator.page_range %}
            {% if num == events.number %}
                <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{num}}">{{num}}</a></li>
            {% endif %}
        {% endfor %}
    {% else %}
        {% if events.number < 5 %}
            {% for num in events.paginator.page_range %}
                {% if num == events.number %}
                    <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
                {% elif num < 6%}
                    <li class="page-item"><a class="page-link" href="?page={{num}}">{{num}}</a></li>
                {% endif %}
            {% endfor %}
            <li class="page-item" ><span style="vertical-align: middle;">&nbsp;.....&nbsp;</span></li>
            <li class="page-item"><a class="page-link" href="?page={{events.paginator.num_pages}}">{{events.paginator.num_pages}}</a></li>
        {% elif events.number > events.paginator.num_pages|add:"-4" %}
            <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
            <li class="page-item" ><span style="vertical-align: middle;">&nbsp;.....&nbsp;</span></li>
            {% for num in events.paginator.page_range %}
                {% if num == events.number %}
                    <li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
                {% elif num > events.paginator.num_pages|add:"-5" %}
                    <li class="page-item"><a class="page-link" href="?page={{num}}">{{num}}</a></li>
                {% endif %}
            {% endfor %}
        {% else %}
            <li class="page-item"><a class="page-link" href="?page=1">1</a></li>
            <li class="page-item" ><span style="vertical-align: middle;">&nbsp;.....&nbsp;</span></li>
            <li class="page-item"><a class="page-link" href="?page={{ events.previous_page_number }}">{{ events.previous_page_number }}</a></li>
            <li class="page-item active"><a class="page-link" href="#">{{events.number}}</a></li>
            <li class="page-item"><a class="page-link" href="?page={{ events.next_page_number }}">{{ events.next_page_number }}</a></li>
            <li class="page-item" ><span style="vertical-align: middle;">&nbsp;.....&nbsp;</span></li>
            <li class="page-item"><a class="page-link" href="?page={{events.paginator.num_pages}}">{{events.paginator.num_pages}}</a></li>
        {% endif %}
    {% endif %}
  </ul>
</nav>




  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <br>
  <div class="container">

 <table class="table" summary="Market" id="market" >
        <thead>
          <tr class="custom_centered">
          <th style="font-size:10px;">Photo</th>
          <th style="font-size:10px;">Public_Key</th>
          <th style="font-size:10px;">Balance</th>
          <th style="font-size:10px;">Name</th>
          <th style="font-size:10px;">Registered</th>
          <th style="font-size:10px;">Verified</th>
          </tr>
        </thead>
        <tbody>
          {% for account in accounts %}
              {% if account %}
                  <tr>
                  <td><img src="{% get_media_prefix %}{{ account.photo }}" height="70" width="70"></td>
                  <td><a href="/accounts/{{ account.public_key}}/">{{ account.public_key }}</a></td>
                  <td>{{ account.balance }}</td>
                  <td>{{ account.name }}</td>
                  <td>{{ account.registered }}</td>
                  <td>{{ account.verified }}</td>
                  </tr>
              {% endif %}
          {% endfor %}
        </tbody>
      </table>


     <div class="input-group input-group-sm mb-3  form-control-inline" style="width:20%;margin-left: auto; margin-right: auto">
      <div class="input-group-prepend">
        <span class="input-group-text" id="inputGroup-sizing-sm">Accounts Filter:</span>
      </div>
      <select class="custom-select  form-control" id="inputGroupSelect01" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
        <option value="all" selected>All</option>
        <option value="registered">Registered</option>
        <option value="verified">Verified</option>
        <option value="unverified">Unverified</option>
      </select>
      </div>
  <div class="row justify-content-md-center">
      <div class="col-12">
      <div class="card rounded-0 ">
        <div class="card-body">
          <h6 style="font-family: 'Garamond'">Recent Transactions</h6>
          <div class="table-responsive">
            <table class="table table-sm">
              <tbody>
         {% for account in accounts %}
              {% if account %}
                  <tr>
                  <td style="vertical-align: middle;"><img src="{% get_media_prefix %}{{ account.photo }}" height="70" width="70"></td>
                  <td style="vertical-align: middle;"><a href="/accounts/{{ account.public_key}}/">{{ account.public_key }}</a></td>
                  <td style="vertical-align: middle;">{{ account.balance }}</td>
                  <td style="vertical-align: middle;">{{ account.name }}</td>
                  <td style="vertical-align: middle;">{{ account.registered }}</td>
                  <td style="vertical-align: middle;">{{ account.verified }}</td>
                  </tr>
              {% endif %}
          {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      </div>
      </div>

      <br>
      <br>
      <br>
      <ul class="list-group">
        <li class="list-group-item">Cras justo odio</li>
        <li class="list-group-item">Dapibus ac facilisis in</li>
        <li class="list-group-item">Morbi leo risus</li>
        <li class="list-group-item">Porta ac consectetur ac</li>
        <li class="list-group-item">Vestibulum at eros</li>  <li class="list-group-item">Cras justo odio</li>
        <li class="list-group-item">Dapibus ac facilisis in</li>
        <li class="list-group-item">Morbi leo risus</li>
        <li class="list-group-item">Porta ac consectetur ac</li>
        <li class="list-group-item">Vestibulum at eros</li>  <li class="list-group-item">Cras justo odio</li>
        <li class="list-group-item">Dapibus ac facilisis in</li>
        <li class="list-group-item">Morbi leo risus</li>
        <li class="list-group-item">Porta ac consectetur ac</li>
        <li class="list-group-item">Vestibulum at eros</li>
      </ul>

    <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1" value="option1">
        <label class="form-check-label" for="inlineRadio1">All</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2" value="option2">
        <label class="form-check-label" for="inlineRadio2">Registered</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3" value="option3">
        <label class="form-check-label" for="inlineRadio3">Verified</label>
      </div>

      <div class="row justify-content-md-center">
      <div class="col-12">
      <div class="card rounded-0 ">
        <div class="card-body">
          <h6 style="font-family: 'Garamond'">Recent Transactions</h6>
          <div class="table-responsive">
            <table class="table table-sm">
              <tbody>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;sent&nbsp;190&nbsp;to&nbsp;account&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
                <tr><td>Txn:&nbsp;14346344</td><td>Account&nbsp;26yny348jyegh&nbsp;initiated&nbsp;challenge&nbsp;t43349yu85y&nbsp;against&nbsp;the&nbsp;accounts&nbsp;22nt34tj9yjr5y&nbsp;and&nbsp;22nt34tj9yjr5y</td><td>1&nbsp;min&nbsp;ago</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      </div>
      </div>
    <br>
    <br>
     <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
  <li class="nav-item">
    <a class="nav-link  active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Home</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Profile</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Contact</a>
  </li>
</ul>
<div class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">.all</div>
  <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">reg</div>
  <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">.verf..</div>
</div>

<br>

 <ul class="nav nav-pills">
  <li class="nav-item">
    <a class="nav-link active" href="#">Active</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Link</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Link</a>
  </li>
  <li class="nav-item">
    <a class="nav-link disabled" href="#">Disabled</a>
  </li>
</ul>
    <br>
    </div>
{% endblock %}

{% block script %}
<script type="text/javascript">
$('[data-toggle="popover"]').popover();
$(document).on('click', function (e) {
    $('[data-toggle="popover"],[data-original-title]').each(function () {
        if (!$(this).is(e.target) && $(this).has(e.target).length === 0 && $('.popover').has(e.target).length === 0) {                
            (($(this).popover('hide').data('bs.popover')||{}).inState||{}).click = false  
        }
    });
});
</script>
{% endblock script %} 

   